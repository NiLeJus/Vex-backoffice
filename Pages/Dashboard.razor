
@page "/dashboard"
@inject IJSRuntime JS
@inject NavigationManager Navigation

<PageTitle>Dashboard</PageTitle>

<h1>Dashboard</h1>

@code {


    private int currentCount = 0;

    protected override async Task OnInitializedAsync()
    {
        // Vérifie l'authentification au chargement
        var isAuth = await JS.InvokeAsync<string>("localStorage.getItem", "isAuthenticated");
        if (isAuth != "true")
        {
            // Redirige vers la page de connexion si non authentifié
            Navigation.NavigateTo("/", true);
        }
    }

    private void IncrementCount()
    {
        currentCount++;
    }
}

